2023-05-19 15:31:36.399 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:31:36.829 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:31:36.829 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:31:36.834 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:31:36.834 +05:00 [INF] Hosting environment: Development
2023-05-19 15:31:36.834 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:31:42.138 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger - -
2023-05-19 15:31:42.394 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger - - - 301 0 - 260.0398ms
2023-05-19 15:31:42.411 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:31:42.793 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 381.1737ms
2023-05-19 15:31:42.796 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/swagger-ui.css - -
2023-05-19 15:31:42.797 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/swagger-ui-standalone-preset.js - -
2023-05-19 15:31:42.797 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/swagger-ui-bundle.js - -
2023-05-19 15:31:42.797 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:31:42.802 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8802ms
2023-05-19 15:31:42.809 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:31:42.850 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-05-19 15:31:42.850 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-05-19 15:31:42.850 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 53.7123ms
2023-05-19 15:31:42.850 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/swagger-ui.css - - - 200 143632 text/css 54.7745ms
2023-05-19 15:31:42.873 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-05-19 15:31:42.873 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 76.6218ms
2023-05-19 15:31:42.909 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.8212ms
2023-05-19 15:31:43.310 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:31:43.503 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/favicon-32x32.png - -
2023-05-19 15:31:43.504 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-05-19 15:31:43.504 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/favicon-32x32.png - - - 200 628 image/png 1.2328ms
2023-05-19 15:31:43.573 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 263.2050ms
2023-05-19 15:32:07.613 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts application/json 125
2023-05-19 15:32:07.740 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.SignUp (Identity.Api)'
2023-05-19 15:32:07.830 +05:00 [INF] Route matched with {action = "SignUp", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Identity.Api.Models.CreateUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:32:10.549 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:32:11.760 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts application/json 125 - 200 0 - 4146.9512ms
2023-05-19 15:32:11.790 +05:00 [ERR] An error occurred using the connection to database 'cllasroom_data' on server 'sql.bsite.net\MSSQL2016'.
2023-05-19 15:32:11.919 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Identity.Api.Context.AppDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-19 15:32:11.961 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.SignUp (Identity.Api) in 4110.0442ms
2023-05-19 15:32:11.974 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.SignUp (Identity.Api)'
2023-05-19 15:32:22.029 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts - -
2023-05-19 15:32:22.044 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:32:22.060 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:32:22.061 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts - - - 401 0 - 32.0283ms
2023-05-19 15:32:38.566 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 52
2023-05-19 15:32:38.567 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:32:38.580 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:32:38.601 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:32:38.929 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 52 - 200 0 - 363.6971ms
2023-05-19 15:32:38.977 +05:00 [ERR] Failed executing DbCommand (208ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 15:32:39.002 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Identity.Api.Context.AppDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-19 15:32:39.007 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 426.6644ms
2023-05-19 15:32:39.007 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:33:21.236 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 52
2023-05-19 15:33:21.237 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:33:21.237 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:33:21.400 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:33:21.412 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 52 - 200 0 - 175.4942ms
2023-05-19 15:33:21.414 +05:00 [ERR] An error occurred using the connection to database 'cllasroom_data' on server 'sql.bsite.net\MSSQL2016'.
2023-05-19 15:33:21.421 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Identity.Api.Context.AppDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-19 15:33:21.423 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 186.1973ms
2023-05-19 15:33:21.424 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:33:33.065 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts - -
2023-05-19 15:33:33.067 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:33:33.068 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:33:33.068 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts - - - 401 0 - 3.1812ms
2023-05-19 15:33:40.590 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts - -
2023-05-19 15:33:40.592 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:33:40.593 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:33:40.593 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts - - - 401 0 - 2.5698ms
2023-05-19 15:33:41.310 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts - -
2023-05-19 15:33:41.311 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:33:41.311 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:33:41.311 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts - - - 401 0 - 0.6921ms
2023-05-19 15:33:42.528 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts - -
2023-05-19 15:33:42.529 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:33:42.529 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:33:42.529 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts - - - 401 0 - 0.6613ms
2023-05-19 15:44:29.784 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:44:30.162 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:44:30.163 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:44:30.170 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:44:30.170 +05:00 [INF] Hosting environment: Development
2023-05-19 15:44:30.171 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:44:30.341 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:44:30.725 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:44:30.725 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:44:30.730 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.1714ms
2023-05-19 15:44:30.730 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 393.6390ms
2023-05-19 15:44:30.761 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.2604ms
2023-05-19 15:44:31.164 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:44:31.339 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.4459ms
2023-05-19 15:44:54.639 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:44:54.651 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 12.5799ms
2023-05-19 15:44:54.675 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:44:54.675 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:44:54.676 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 0.8723ms
2023-05-19 15:44:54.687 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.0940ms
2023-05-19 15:44:55.037 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:44:55.043 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.1561ms
2023-05-19 15:45:05.258 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:45:05.489 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:45:05.490 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:45:05.494 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:45:05.494 +05:00 [INF] Hosting environment: Development
2023-05-19 15:45:05.494 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:45:06.063 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:45:06.422 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:45:06.422 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:45:06.426 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 366.8571ms
2023-05-19 15:45:06.428 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.9436ms
2023-05-19 15:45:06.449 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.1175ms
2023-05-19 15:45:06.714 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:45:06.875 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.8070ms
2023-05-19 15:45:17.928 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:45:17.944 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 16.4407ms
2023-05-19 15:45:17.969 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:45:17.970 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:45:17.971 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.4927ms
2023-05-19 15:45:17.990 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.7010ms
2023-05-19 15:45:18.136 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:45:18.140 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.1120ms
2023-05-19 15:45:19.044 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:45:19.052 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 8.4550ms
2023-05-19 15:45:19.071 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:45:19.071 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:45:19.073 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.5762ms
2023-05-19 15:45:19.104 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.5107ms
2023-05-19 15:45:19.242 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:45:19.244 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.2068ms
2023-05-19 15:45:29.958 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:45:30.314 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:45:30.316 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:45:30.328 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:45:30.331 +05:00 [INF] Hosting environment: Development
2023-05-19 15:45:30.333 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:45:31.872 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:45:32.723 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:45:32.746 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:45:32.785 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 59.8490ms
2023-05-19 15:45:32.797 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 899.7049ms
2023-05-19 15:45:32.851 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.7221ms
2023-05-19 15:45:32.916 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:45:33.140 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.1110ms
2023-05-19 15:45:44.182 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:45:44.319 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:45:44.319 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:45:44.322 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:45:44.322 +05:00 [INF] Hosting environment: Development
2023-05-19 15:45:44.322 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:45:45.309 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:45:45.552 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 248.1944ms
2023-05-19 15:45:45.566 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:45:45.566 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:45:45.569 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.4369ms
2023-05-19 15:45:45.587 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.9903ms
2023-05-19 15:45:45.656 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:45:45.775 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.6417ms
2023-05-19 15:45:55.454 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 15:45:56.134 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:45:56.138 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:45:56.139 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 684.3864ms
2023-05-19 15:46:06.584 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 15:46:06.593 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:46:06.647 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:46:08.165 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:46:13.736 +05:00 [INF] Executed DbCommand (382ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 15:46:13.794 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 7140.0352ms
2023-05-19 15:46:13.796 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:46:13.890 +05:00 [ERR] Error
System.NullReferenceException: Object reference not set to an instance of an object.
   at Identity.Api.Controllers.AccountsController.Login(LoginUserModel loginUserModel) in C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\Controllers\AccountsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Identity.Api.Midlewares.ErrorHandlerMiddleware.Invoke(HttpContext httpContext) in C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\Midlewares\ErrorHandlerMiddleware.cs:line 22
2023-05-19 15:46:13.908 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 500 - application/json;+charset=utf-8 7324.1893ms
2023-05-19 15:47:03.102 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:47:03.288 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 15:47:03.288 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 15:47:03.293 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:47:03.293 +05:00 [INF] Hosting environment: Development
2023-05-19 15:47:03.294 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 15:47:03.614 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 15:47:03.878 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:47:03.878 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 265.5576ms
2023-05-19 15:47:03.882 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.4033ms
2023-05-19 15:47:03.911 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 15:47:03.926 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.2021ms
2023-05-19 15:47:04.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 15:47:04.270 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.3695ms
2023-05-19 15:47:09.511 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts application/json 122
2023-05-19 15:47:09.582 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.SignUp (Identity.Api)'
2023-05-19 15:47:09.628 +05:00 [INF] Route matched with {action = "SignUp", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(Identity.Api.Models.CreateUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:47:10.799 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:47:15.120 +05:00 [INF] Executed DbCommand (411ms) [Parameters=[@__userModel_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [users] AS [u]
        WHERE [u].[Username] = @__userModel_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-05-19 15:47:16.515 +05:00 [INF] Executed DbCommand (451ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [users] ([Id], [Email], [Name], [Password], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-05-19 15:47:17.256 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:47:17.267 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.SignUp (Identity.Api) in 7629.3421ms
2023-05-19 15:47:17.268 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.SignUp (Identity.Api)'
2023-05-19 15:47:17.281 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts application/json 122 - 200 0 - 7769.7959ms
2023-05-19 15:47:25.696 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 15:47:25.700 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:47:25.707 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 15:47:25.718 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 15:47:26.423 +05:00 [INF] Executed DbCommand (668ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 15:47:26.908 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 15:47:26.908 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 1200.6923ms
2023-05-19 15:47:26.908 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 15:47:26.909 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 200 - text/plain;+charset=utf-8 1212.3506ms
2023-05-19 15:47:46.567 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 15:47:46.580 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:47:46.585 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:47:46.585 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 18.6139ms
2023-05-19 15:47:48.146 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 15:47:48.147 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:47:48.147 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:47:48.147 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 0.8290ms
2023-05-19 15:47:54.160 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 15:47:54.161 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 15:47:54.162 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:47:54.162 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 2.0954ms
2023-05-19 19:02:56.456 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 19:02:56.702 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 19:02:56.702 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 19:02:56.705 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 19:02:56.705 +05:00 [INF] Hosting environment: Development
2023-05-19 19:02:56.705 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 19:02:58.011 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 19:02:58.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 443.1011ms
2023-05-19 19:02:58.452 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 19:02:58.459 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.1716ms
2023-05-19 19:02:58.525 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 19:02:58.629 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.2607ms
2023-05-19 19:02:58.914 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 19:02:59.074 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.1335ms
2023-05-19 19:03:06.953 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:03:07.052 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:03:07.061 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:03:07.061 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 107.7606ms
2023-05-19 19:04:10.311 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 19:04:10.322 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:04:10.370 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 19:04:11.643 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 19:04:17.438 +05:00 [INF] Executed DbCommand (700ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 19:04:17.752 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 19:04:17.764 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 7384.256ms
2023-05-19 19:04:17.765 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:04:17.789 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 200 - text/plain;+charset=utf-8 7478.4703ms
2023-05-19 19:11:29.548 +05:00 [INF] User profile is available. Using 'C:\Users\Aziz Askarov\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 19:11:29.780 +05:00 [INF] Now listening on: https://localhost:7037
2023-05-19 19:11:29.780 +05:00 [INF] Now listening on: http://localhost:5035
2023-05-19 19:11:29.786 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 19:11:29.787 +05:00 [INF] Hosting environment: Development
2023-05-19 19:11:29.787 +05:00 [INF] Content root path: C:\Users\Aziz Askarov\source\repos\Identity.Api\Identity.Api\
2023-05-19 19:11:30.138 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 19:11:30.552 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 421.9180ms
2023-05-19 19:11:30.587 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 19:11:30.592 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.9281ms
2023-05-19 19:11:30.622 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 19:11:30.655 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.6998ms
2023-05-19 19:11:30.905 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 19:11:31.028 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.2216ms
2023-05-19 19:11:31.530 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/index.html - -
2023-05-19 19:11:31.537 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/index.html - - - 200 - text/html;charset=utf-8 6.6702ms
2023-05-19 19:11:31.792 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 19:11:31.793 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 0.8346ms
2023-05-19 19:11:31.818 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/_vs/browserLink - -
2023-05-19 19:11:31.828 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.4923ms
2023-05-19 19:11:31.952 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - -
2023-05-19 19:11:31.954 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.6472ms
2023-05-19 19:11:50.945 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:11:51.714 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:11:51.728 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:11:51.729 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 783.6146ms
2023-05-19 19:12:06.657 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 19:12:06.672 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:12:06.768 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 19:12:09.514 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 19:12:17.926 +05:00 [INF] Executed DbCommand (910ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 19:12:18.799 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 19:12:18.819 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 12034.712ms
2023-05-19 19:12:18.822 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:12:18.843 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 200 - text/plain;+charset=utf-8 12185.4112ms
2023-05-19 19:13:05.581 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:13:05.583 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:13:05.584 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:13:05.584 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 2.7698ms
2023-05-19 19:37:38.908 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:37:39.271 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 19:37:39.406 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-05-19 19:37:39.411 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:37:39.421 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:37:39.425 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 525.4407ms
2023-05-19 19:37:46.153 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 19:37:46.158 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 19:37:46.158 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-05-19 19:37:46.159 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:37:46.186 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 19:37:46.292 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 19:37:49.784 +05:00 [INF] Executed DbCommand (608ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 19:37:49.791 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 19:37:49.792 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 3605.7867ms
2023-05-19 19:37:49.792 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:37:49.793 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 200 - text/plain;+charset=utf-8 3640.4876ms
2023-05-19 19:37:53.715 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:37:53.716 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 19:37:53.716 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2023-05-19 19:37:53.716 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:37:53.716 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:37:53.716 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 1.3155ms
2023-05-19 19:39:03.291 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50
2023-05-19 19:39:03.292 +05:00 [INF] Executing endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:39:03.292 +05:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Identity.Api.Models.LoginUserModel) on controller Identity.Api.Controllers.AccountsController (Identity.Api).
2023-05-19 19:39:03.439 +05:00 [INF] Entity Framework Core 6.0.16 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2023-05-19 19:39:03.909 +05:00 [INF] Executed DbCommand (467ms) [Parameters=[@__loginUserModel_UserName_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [users] AS [u]
WHERE [u].[Username] = @__loginUserModel_UserName_0
2023-05-19 19:39:03.910 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 19:39:03.911 +05:00 [INF] Executed action Identity.Api.Controllers.AccountsController.Login (Identity.Api) in 618.8196ms
2023-05-19 19:39:03.911 +05:00 [INF] Executed endpoint 'Identity.Api.Controllers.AccountsController.Login (Identity.Api)'
2023-05-19 19:39:03.911 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7037/api/Accounts/login application/json 50 - 200 - text/plain;+charset=utf-8 619.6713ms
2023-05-19 19:39:09.844 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:39:09.844 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:39:09.844 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:39:09.845 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 1.1532ms
2023-05-19 19:39:12.716 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:39:12.716 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:39:12.717 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:39:12.717 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 1.3550ms
2023-05-19 19:39:12.921 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:39:12.922 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:39:12.922 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:39:12.923 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 1.8699ms
2023-05-19 19:39:13.152 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7037/api/Accounts/profile - -
2023-05-19 19:39:13.153 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-19 19:39:13.153 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 19:39:13.154 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7037/api/Accounts/profile - - - 401 0 - 1.3364ms
